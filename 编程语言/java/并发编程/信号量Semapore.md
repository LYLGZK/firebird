# semaphore的使用

##  一、semaphore是什么

​		semaphore是一个信号量的实现，底层就是一个计数器，用来保护一个或者多个资源在多线程条件下的访问权限。如果一个线程拿到了信号量，就可以正常执行，如果没有拿到就只能阻塞等待，直到他拿到信号量。说白了就是信号量里面的计数器的值是否大于0，如果大于0就能被线程拿到，如果等于0，当前的线程就只能阻塞等待。



## 二、干什么用的

​		其实在是什么中已经解释了他是干嘛用的，就是为了在多线程的环境下保护被访问的资源的权限的。如果极致情况下，把信号量的计数器的值设置为1，就把程序强制改成了串行的，因为一个时间只能有一个线程获得信号量。



## 三、什么是信号量的公平模式和非公平模式



## 四、使用semaphore

~~~java
// 定义了一个userCount是2，就是为了表明在这个接下来的代码块中，多线程条件下只能同时有2个线程拿到信号量进行执行，其他的都得等待
// 这种创建模式是非公平模式。如果要创建公平模式，就需要在第二个参数加上true的实参
int userCount = 2;
Semaphore semaphore = new Semaphore(userCount);

~~~



